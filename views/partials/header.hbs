<header>
    <div class="row">
        <div class="col-3">
            <a href="/"><img id="logo" src="images/logo.jpg" alt="logo"></a>
        </div>
        
        <div class="col-6">
            <h1>Apex Legends Guides</h1>
        </div>

        <div class="col-3">
            <div id="auth">
                <div id="userInfo" style="display:none; color:white">
                    <p>Добро пожаловать <span id="userName"></span>!</p>
                    <input type="button" value="Выйти" id="logOut" />
                </div>

                <div id = "auth_blok">
                    <div id = "link_registr">
                        <a href="/create" class="btn btn-outline-light">Register</a>
                    </div>
                    <div id = "link_auth">
                        <a href="/avtoriz" class="btn btn-outline-light">Login</a>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
</header>
{{> menu}}

<script>
    var userName = localStorage.getItem("name");
    console.log(userName);
    if (userName !== null) {
        document.getElementById("userName").innerText = userName;
        document.getElementById("userInfo").style.display = "block";
        document.getElementById("auth_blok").style.display = "none";
    };
    // условный выход - удаляем токен, меняем видимость блоков
    document.getElementById("logOut").addEventListener("click", e => {
        e.preventDefault();
        document.getElementById("userName").innerText = "";
        document.getElementById("userInfo").style.display = "none";
        document.getElementById("auth_blok").style.display = "block";
        localStorage.removeItem("name");
        localStorage.removeItem("token");
    });
</script>